const registerServiceWorker=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/serviceWorker.js");e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}catch(e){console.error(`Registration failed with ${e}`)}},setCardDisplay=e=>{const t="selected";document.querySelectorAll(".project-btn").forEach((e=>{e.classList.remove(t)})),e.classList.add(t);const r=document.querySelector("section.projects");r.classList.forEach((e=>{"projects"!=e&&r.classList.remove(e)})),r.classList.add(e.dataset.class)},onSearchChange=e=>{console.log(e),document.querySelectorAll("article.row.project-tile").forEach((t=>{const r=t.dataset.title??"",s=t.dataset.description??"",o=r.toLowerCase().includes(e.toLowerCase()),i=s.toLowerCase().includes(e.toLowerCase());let c=3;t.style.setProperty("opacity",1),t.style.setProperty("order",c);const l=t.querySelector(".text-column h3"),n=t.querySelector(".text-column p");o|i?(o&&(c-=2),i&&(c-=1),t.style.setProperty("order",c),highlight(l,r,e),highlight(n,s,e)):(t.style.setProperty("opacity","0.25"),l.innerHTML=r,n.innerHTML=s)}))},highlight=(e,t,r)=>{const s=t.toLowerCase().indexOf(r.toLowerCase());if(s>=0){const o=t.substring(0,s)+"<span class='highlight'>"+t.substring(s,s+r.length)+"</span>"+t.substring(s+r.length);e.innerHTML=o}else e.innerHTML=t};registerServiceWorker();
